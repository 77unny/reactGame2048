(this["webpackJsonpreact-game2048"]=this["webpackJsonpreact-game2048"]||[]).push([[0],{13:function(e,t,n){e.exports=n(34)},18:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(8),c=n.n(i),o=(n(18),n(1));function l(e){var t=e.scroe,n=e.bestScore;return r.a.createElement("header",{className:"heading"},r.a.createElement("h1",{className:"title"},"2048"),r.a.createElement("div",{className:"scores-container"},r.a.createElement("div",{className:"score-container",style:{marginRight:5}},t),r.a.createElement("div",{className:"best-container"},n)))}function s(){return r.a.createElement("div",{className:"above-game"},r.a.createElement("p",{className:"game-intro"},"Join the numbers and get to the ",r.a.createElement("strong",null,"2048 tile!")),r.a.createElement("a",{href:"/",className:"restart-button"},"New Game"))}var u=n(4),f=n.n(u),v=n(12),d=n(5),m=function(e,t){return Math.floor(Math.random()*t+e)},y=function(){var e=[],t=x(e),n=x(e);return e.push(t),e.push(n),e},b=function(e,t){return e.some((function(e){return e.x===t.x&&e.y===t.y}))},g=0,x=function(e){for(var t;!t||e&&b(e,t);)t={id:g++,x:m(1,4),y:m(1,4),value:2,isNew:void 0,isMerged:void 0};return t};function E(e){var t=e.tileList,n=e.x,a=e.y;!function(e,t){if(!e)throw new Error("Assertion failed: ".concat(t))}(0===n||0===a,"");for(var r=0!==a,i=n+a<0,c=t.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{isMerged:!1,isNew:!1})})).filter((function(e){return!e.isDisabled})).sort((function(e,t){var n=r?e.x-t.x:e.y-t.y;return n||(r?i?e.y-t.y:t.y-e.y:i?e.x-t.x:t.x-e.x)})),o=i?1:4,l=o,s=0;s<c.length;s++){var u,f;if(r)c[s].y=l,l=i?l+1:l-1,c[s].x!==(null===(u=c[s+1])||void 0===u?void 0:u.x)&&(l=o);else c[s].x=l,l=i?l+1:l-1,c[s].y!==(null===(f=c[s+1])||void 0===f?void 0:f.y)&&(l=o)}for(var m=0,y=Object(v.a)(c),b=0;b<c.length;b++){var g,E,h,N,w;if(!c[b].isDisabled&&(m&&(r?c[b].x===(null===(g=c[b-1])||void 0===g?void 0:g.x):c[b].y===(null===(E=c[b-1])||void 0===E?void 0:E.y))?(r?c[b].y=m:c[b].x=m,m+=i?1:-1):m=0,(r?c[b].x===(null===(h=c[b+1])||void 0===h?void 0:h.x):c[b].y===(null===(N=c[b+1])||void 0===N?void 0:N.y))&&c[b].value===(null===(w=c[b+1])||void 0===w?void 0:w.value))){var j=x();j.x=c[b].x,j.y=c[b].y,j.isMerged=!0,j.value=2*c[b].value,y.push(j),c[b].isDisabled=!0,c[b+1].isDisabled=!0,r?(m=c[b+1].y,c[b+1].y=c[b].y):(m=c[b+1].x,c[b+1].x=c[b].x)}}return y}var h=n(9),N=n.n(h);function w(e){var t=e.id,n=e.x,a=e.y,i=e.value,c=e.isNew,o=e.isMerged;return r.a.createElement("div",{key:t,className:N()("tile tile-".concat(i," tile-position-").concat(n,"-").concat(a),{"tile-new":c,"tile-merged":o})},r.a.createElement("div",{className:"tile-inner"},i))}var j=n(10),p=n(11),O={};function S(e,t){O[e]||(O[e]=[],Object(p.a)(e,(function(){return function(e){var t,n=Object(j.a)(O[e]);try{for(n.s();!(t=n.n()).done;){(0,t.value)()}}catch(a){n.e(a)}finally{n.f()}}(e)}))),O[e].push(t)}function M(e,t){O[e]=O[e].filter((function(e){return e!==t}))}function k(e){var t=e.setScore,n=Object(a.useState)(y),i=Object(o.a)(n,2),c=i[0];return function(e){var t=e.tileList,n=e.setTileList,r=e.setScore,i=function(e){var a=e.x,i=e.y,c=E({tileList:t,x:a,y:i}),o=c.reduce((function(e,t){return t.isMerged?e+t.value:e}),0);r((function(e){return e+o}));var l=x(c);l.isNew=!0,c.push(l),n(c)},c=function(){i({x:0,y:-1})},o=function(){i({x:0,y:1})},l=function(){i({x:-1,y:0})},s=function(){i({x:1,y:0})};Object(a.useEffect)((function(){return S("up",c),S("down",o),S("left",l),S("right",s),function(){M("up",c),M("down",o),M("left",l),M("right",s)}}))}({tileList:c,setTileList:i[1],setScore:t}),r.a.createElement("div",{className:"game-container"},r.a.createElement("div",{className:"grid-container"},f()(4,(function(e){return r.a.createElement("div",{key:e,className:"grid-row"},f()(4,(function(e){return r.a.createElement("div",{key:e,className:"grid-cell"})})))}))),r.a.createElement("div",{className:"tile-container"},c.map((function(e){return r.a.createElement(w,Object.assign({key:e.id},e))}))))}var L=function(){var e=Object(a.useState)(0),t=Object(o.a)(e,2),n=t[0],i=t[1],c=function(e,t){var n=Object(a.useState)(t),r=Object(o.a)(n,2),i=r[0],c=r[1];return Object(a.useEffect)((function(){var t=window.localStorage.getItem(e);t&&c(Number(t))}),[e]),Object(a.useEffect)((function(){var t=window.localStorage.getItem(e),n=String(i);t!==n&&window.localStorage.setItem(e,n)}),[e,i]),[i,c]}("bestScore",0),u=Object(o.a)(c,2),f=u[0],v=u[1];return Object(a.useEffect)((function(){n>f&&v(n)})),r.a.createElement("div",{className:"container"},r.a.createElement(l,{scroe:n,bestScore:f}),r.a.createElement(s,null),r.a.createElement(k,{setScore:i}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.7b90772a.chunk.js.map